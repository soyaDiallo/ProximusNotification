{% extends 'content.html.twig' %}

{% block title %}Modifier Utilisateur
{% endblock %}

{% block content_header %}
	<ul class="menu-nav">
		<li class="menu-item" aria-haspopup="true">
			<a href="{{ path('administrateur_index') }}" class="menu-link">
				<span class="menu-text">Accueil</span>
			</a>
		</li>
		<li class="menu-item menu-item-active" aria-haspopup="true">
			<a href="{{ path('utilisateur_index') }}" class="menu-link">
				<span class="menu-text">Utilisateurs</span>
			</a>
		</li>
		<li class="menu-item" aria-haspopup="true">
			<a href="{{ path('client_index') }}" class="menu-link">
				<span class="menu-text">Clients</span>
			</a>
		</li>
		<li class="menu-item" aria-haspopup="true">
			<a href="{{ path('produit_index') }}" class="menu-link">
				<span class="menu-text">Produits</span>
			</a>
		</li>
		<li class="menu-item" aria-haspopup="true">
			<a href="{{ path('offer_index') }}" class="menu-link">
				<span class="menu-text">Ventes</span>
			</a>
		</li>
		<li class="menu-item" aria-haspopup="true">
			<a href="{{ path('autre_index') }}" class="menu-link">
				<span class="menu-text">Autres</span>
			</a>
		</li>
	</ul>
{% endblock %}

{% block content_subheader %}
	<!--begin::Page Title-->
	<h5 class="text-dark font-weight-bold my-1 mr-5">Modifier Utilisateur</h5>
	<!--end::Page Title-->

	<!--begin::Breadcrumb-->
	<ul class="breadcrumb breadcrumb-transparent breadcrumb-dot font-weight-bold p-0 my-2 font-size-sm">
		<li class="breadcrumb-item text-muted">
			<span class="text-muted">Application</span>
		</li>
		<li class="breadcrumb-item text-muted">
			<a href="{{ path('administrateur_index') }}" class="text-muted">Accueil</a>
		</li>
		<li class="breadcrumb-item text-muted">
			<a href="{{ path('utilisateur_index') }}" class="text-muted">Les utilisateurs</a>
		</li>
		<li class="breadcrumb-item text-muted">
			<a href="{{ path('utilisateur_new') }}" class="text-muted">Modifier Utilisateur</a>
		</li>
	</ul>
	<!--end::Breadcrumb-->
{% endblock %}

{% block content_subheader_right %}
	<!--begin::Toolbar-->
	<div
		class="d-flex align-items-center flex-wrap">
		<!--begin::Dropdown-->
		<div class="dropdown dropdown-inline" data-toggle="tooltip" title="Réinitialiser le compte de l'utilisateur" data-placement="top">
			<a href="{{ path('utilisateur_reload', {id: user.id}) }}" class="btn btn-light-primary font-weight-bolder px-5 mr-3 my-1">
				<i class="fas fa-user-lock"></i>
				Réinitialiser Compte
			</a>
		</div>
		<!--end::Dropdown-->
	</div>
	<!--end::Toolbar-->
{% endblock %}

{% block content_body %}
	<!--begin::Content-->
	<div
		class="content d-flex flex-column flex-column-fluid" id="kt_content">
		<!--begin::Entry-->
		<div
			class="d-flex flex-column-fluid">
			<!--begin::Container-->
			<div class="container">
				{% for message in app.flashes('success_user') %}
					<div class="alert alert-custom alert-outline-2x alert-outline-primary fade show mb-7" role="alert">
						<div class="alert-icon">
							<i class="flaticon-information"></i>
						</div>
						<div class="alert-text">{{ message }}</div>
						<div class="alert-close">
							<button type="button" class="close" data-dismiss="alert" aria-label="Close">
								<span aria-hidden="true">
									<i class="ki ki-close"></i>
								</span>
							</button>
						</div>
					</div>
				{% endfor %}

				{{ form_start(form, {'attr': {'class': 'form'}}) }}
				<div
					class="card card-custom">
					<!--begin::Header-->
					<div class="card-header py-3">
						<div class="card-title align-items-start flex-column">
							<h3 class="card-label font-weight-bolder text-dark">Modifier Utilisateur - #{{ user.code|upper }}</h3>
							<span class="text-muted font-weight-bold font-size-sm mt-1">Modification des informations d'un utilisateur.</span>
						</div>
					</div>
					<!--end::Header-->

					<!--begin::Body-->
					<div class="card-body">
						<div>
							<h3 class="mb-10 font-weight-bold text-dark">Informations Personnelles</h3>
							<div class="row">
								<div
									class="col-xl-6">
									<!--begin::Input-->
									<div class="form-group">
										<label>Nom Utilisateur</label>
										{{ form_widget(form.nom, {'attr': {'class': 'form-control form-control-solid form-control-lg', 'placeholder': 'Nom Utilisateur'}}) }}
									</div>
									<!--end::Input-->
								</div>
								<div
									class="col-xl-6">
									<!--begin::Input-->
									<div class="form-group">
										<label>Prénom</label>
										{{ form_widget(form.prenom, {'attr': {'class': 'form-control form-control-solid form-control-lg', 'placeholder': 'Prénom Utilisateur'}}) }}
									</div>
									<!--end::Input-->
								</div>
							</div>

							<div class="row">
								<div
									class="col-xl-6">
									<!--begin::Input-->
									<div class="form-group">
										<label>Code Utilisateur</label>
										{{ form_widget(form.code, {'attr': {'class': 'form-control form-control-solid form-control-lg', 'placeholder': 'Code Utilisateur'}}) }}
									</div>
									<!--end::Input-->
								</div>
								<div
									class="col-xl-6">
									<!--begin::Input-->
									<div class="form-group">
										<label>Téléphone</label>
										{{ form_widget(form.tel, {'attr': {'class': 'form-control form-control-solid form-control-lg', 'placeholder': 'Téléphone Utilisateur'}}) }}
									</div>
									<!--end::Input-->
								</div>
							</div>

							<div class="separator separator-dashed my-5"></div>

							<h3 class="mb-10 font-weight-bold text-dark">Informations Compte</h3>
							<div class="row">
								<div
									class="col-xl-6">
									<!--begin::Input-->
									<div class="form-group">
										<label>Email Utilisateur</label>
										{{ form_widget(form.email, {'attr': {'class': 'form-control form-control-solid form-control-lg', 'placeholder': 'Email Utilisateur'}}) }}
										<span class="form-text text-muted">L'email doit être unique.</span>
									</div>
									<!--end::Input-->
								</div>
								<div
									class="col-xl-6">
									<!--begin::Input-->
									<div class="form-group">
										<label>Rôle Utilisateur</label>
										{{ form_widget(form.roles, {'attr': {'class': 'form-control form-control-solid form-control-lg', 'placeholder': 'Rôle Utilisateur'}}) }}
										<span class="form-text text-muted">Il s'agit du rôle de l'utilisateur dans la plateforme.</span>
									</div>
									<!--end::Input-->
								</div>
							</div>
						</div>
					</div>
					<!--end::Body-->

					<!--begin::Footer-->
					<div class="card-footer py-5 px-5">
						<div class="card-toolbar float-right">
							<button type="submit" class="btn btn-primary font-weight-bolder px-5 mr-3">
								Enregistrer
							</button>
							<a href="{{ path('utilisateur_index') }}" class="btn btn-light-primary font-weight-bold px-5 mr-3">
								Annuler
							</a>
						</div>
					</div>
					<!--end::Footer-->
				</div>
				{{ form_end(form) }}
			</div>
			<!--end::Container-->
		</div>
		<!--end::Entry-->
	</div>
	<!--end::Content-->
{% endblock %}
